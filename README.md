# Park & Ride+ Delhi NCR Web Application

A full-stack web application that displays real-time parking availability and Delhi Metro vehicle locations with user reporting functionality for the Delhi National Capital Region (NCR).

## Features

- **Real-time Data Visualization**: Interactive map showing live parking lot availability and Delhi Metro train locations
- **Delhi NCR Focus**: Centered on Delhi with real metro lines and major locations
- **User Reports**: Click-to-report functionality for users to submit location-based reports
- **Firebase Integration**: Reports are stored in Google Firestore
- **Live Updates**: WebSocket connection for real-time data updates every 3 seconds
- **Responsive Design**: Modern, mobile-friendly interface optimized for Delhi commuters

## Technology Stack

### Backend
- **Node.js** with Express framework
- **Socket.IO** for real-time WebSocket communication
- **Firebase Admin SDK** for Firestore database integration
- **@faker-js/faker** for generating mock data
- **CORS** for cross-origin resource sharing

### Frontend
- **React** with modern hooks (useState, useEffect)
- **React-Leaflet** for interactive mapping
- **Socket.IO Client** for real-time data reception
- **Axios** for HTTP requests
- **Leaflet** for map functionality

### Database
- **Google Firestore** for storing user reports

## Project Structure

```
/server
â”œâ”€â”€ node_modules/
â”œâ”€â”€ client/
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”œâ”€â”€ MapView.js
â”‚   â”‚   â”‚   â””â”€â”€ ReportForm.js
â”‚   â”‚   â”œâ”€â”€ App.js
â”‚   â”‚   â”œâ”€â”€ index.js
â”‚   â”‚   â””â”€â”€ index.css
â”‚   â”œâ”€â”€ public/
â”‚   â”‚   â””â”€â”€ index.html
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ server.js
â”œâ”€â”€ serviceAccountKey.json
â””â”€â”€ package.json
```

## Setup Instructions

### 1. Firebase Setup
1. Go to [Firebase Console](https://console.firebase.google.com/)
2. Create a new project or select existing project
3. Enable Firestore Database
4. Go to Project Settings > Service Accounts
5. Generate a new private key and download the JSON file
6. Rename the file to `serviceAccountKey.json` and place it in the `/server` directory

### 2. Backend Setup
```bash
cd server
npm install
npm start
```

The server will start on `http://localhost:3002`

### 3. Frontend Setup
```bash
cd server/client
npm install
npm start
```

The client will start on `http://localhost:3000`

## API Endpoints

### POST /api/report
Submit a user report to be stored in Firestore.

**Request Body:**
```json
{
  "location": [latitude, longitude],
  "description": "Report description"
}
```

**Response:**
```json
{
  "message": "Report submitted successfully"
}
```

## Real-time Data

The application simulates real-time data for Delhi NCR:

### Parking Lots
- **ID**: Unique identifier
- **Name**: Generated parking lot names at major Delhi locations
- **Location**: Delhi NCR coordinates (Connaught Place, India Gate, etc.)
- **Capacity**: Total parking spots (100-500 for major locations)
- **Available Spots**: Current available spots (updates every 3 seconds)

### Delhi Metro Trains
- **ID**: Unique identifier
- **Route Name**: Actual Delhi Metro lines (Red, Blue, Yellow, etc.)
- **Location**: Current coordinates along metro routes
- **Route Path**: Array of coordinates following actual metro paths

## Features in Detail

### Interactive Map
- Click anywhere on the map to select a location for reporting
- Color-coded parking markers:
  - ðŸŸ¢ Green: Plenty of spots available (< 50% full)
  - ðŸŸ¡ Orange: Limited availability (50-80% full)
  - ðŸ”´ Red: Nearly full (> 80% full)
- Delhi Metro train markers with route paths showing actual metro lines
- Popup information for detailed data including Delhi-specific location names

### Real-time Updates
- WebSocket connection maintains live data flow
- Updates every 3 seconds reflecting Delhi traffic patterns
- Connection status indicator in header

### User Reports
- Click-to-select location on Delhi NCR map
- Text description input for issues/feedback
- Stored in Firestore with timestamp
- Success confirmation

## Environment Variables

For production deployment, consider using environment variables:
- `PORT`: Server port (default: 3002)
- `FIREBASE_PROJECT_ID`: Your Firebase project ID
- `FIREBASE_DATABASE_URL`: Your Firestore database URL

## Development Notes

- The application uses mock data generated by Faker.js
- In production, replace mock data generation with real API integrations
- Ensure your Firebase project has proper security rules configured
- The client is configured to proxy API requests to the server during development

## License

This project is for educational purposes and demonstration of full-stack development with React, Node.js, and Firebase.
